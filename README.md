# xSmartDeepResearch

<div align="center">
  <h3>ğŸ”¬ æ™ºèƒ½æ·±åº¦ç ”ç©¶ç³»ç»Ÿ</h3>
  <p>åŸºäº DeepResearch æ¶æ„çš„è‡ªä¸»å¯æ§æ·±åº¦ä¿¡æ¯æ£€ç´¢ä¸ç ”ç©¶ç³»ç»Ÿ</p>
</div>

<p align="center">
  <img src="https://img.shields.io/badge/Python-3.10+-blue.svg" alt="Python">
  <img src="https://img.shields.io/badge/Framework-FastAPI-009688.svg" alt="FastAPI">
  <img src="https://img.shields.io/badge/Agent-ReAct-orange.svg" alt="ReAct">
  <img src="https://img.shields.io/badge/License-Apache%202.0-green.svg" alt="License">
</p>

---

## ğŸŒŸ é¡¹ç›®ç®€ä»‹

**xSmartDeepResearch** æ˜¯ä¸€ä¸ªæ™ºèƒ½æ·±åº¦ç ”ç©¶ç³»ç»Ÿï¼Œèƒ½å¤Ÿæ ¹æ®ç”¨æˆ·çš„é—®é¢˜è‡ªåŠ¨è¿›è¡Œå¤šè½®æœç´¢ã€ç½‘é¡µæµè§ˆã€ä¿¡æ¯æå–å’Œæ·±åº¦æ¨ç†ï¼Œæœ€ç»ˆç»™å‡ºå…¨é¢ã€å‡†ç¡®çš„ç ”ç©¶ç»“è®ºã€‚

### æ ¸å¿ƒç‰¹æ€§

- âš™ï¸ **ReAct æ¨ç†æ¡†æ¶**ï¼šæ€è€ƒ-è¡ŒåŠ¨-è§‚å¯Ÿçš„å¤šè½®è¿­ä»£æ¨ç†
- ğŸš€ **æé€Ÿå¹¶è¡Œå·¥å…·é“¾**ï¼šSearch/Visit å†…éƒ¨å…¨é¢å¼‚æ­¥å¹¶å‘ï¼Œæ•ˆç‡æå‡ 300%
- ğŸ§  **è¯­ä¹‰çº§æ™ºæ…§ç¼“å­˜**ï¼šé›†æˆ ChromaDBï¼Œæ™ºèƒ½è¯†åˆ«è¯­ä¹‰ç›¸ä¼¼æŸ¥è¯¢
- ğŸ›¡ï¸ **åšå®çš„æ²™ç®±å®‰å…¨**ï¼šæœ¬åœ° Python æ‰§è¡Œç¯å¢ƒå…·å¤‡èµ„æºé…é¢é™åˆ¶ (CPU/Memory)
- ğŸ“„ **æ·±åº¦æ–‡æ¡£è§£æ**ï¼šPDF è¡¨æ ¼ç²¾å‡†æå–ä¸ Markdown è½¬æ¢ï¼Œæ”¯æŒå¤šæ å¸ƒå±€
- ğŸŒ **é•¿ä¸Šä¸‹æ–‡ç®¡ç†**ï¼š128K+ token ä¸Šä¸‹æ–‡åŠ¨æ€å‹ç¼©ä¸æ¶ˆæ¯å‰ªæ
- ğŸ¯ **DeepSeek ä¸“é¡¹ä¼˜åŒ–**ï¼šæ·±åº¦é€‚é… V3/R1ï¼Œå¼ºåŒ– CoT æ¨ç†èƒ½åŠ›

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  xSmartDeepResearch                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  REST API   â”‚  â”‚  WebSocket  â”‚  â”‚   Web UI    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                          â–¼                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚              xSmartReactAgent                   â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚â”‚
â”‚  â”‚  â”‚ Prompt  â”‚ â”‚ Context â”‚ â”‚     Result      â”‚   â”‚â”‚
â”‚  â”‚  â”‚ Manager â”‚ â”‚ Manager â”‚ â”‚    Extractor    â”‚   â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                        â–¼                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚               Tool Registry                      â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚â”‚
â”‚  â”‚  â”‚ Search â”‚ â”‚ Visit  â”‚ â”‚ Python â”‚ â”‚ Scholarâ”‚   â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                        â–¼                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                LLM Service                       â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚â”‚
â”‚  â”‚  â”‚ Local (vLLM) â”‚  â”‚ Cloud (OpenAI/Qwen)  â”‚     â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.10+
- æ¨èä½¿ç”¨ conda åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

### å®‰è£…

```bash
# 1. å…‹éš†é¡¹ç›®
cd xSmartDeepResearch

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
conda create -n xsmart python=3.10
conda activate xsmart

# 3. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 4. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ API Keys
```

### é…ç½® API Keys

åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®ä»¥ä¸‹å¿…éœ€çš„ API Keysï¼š

```bash
# Serper API - Googleæœç´¢
SERPER_API_KEY=your_key

# Jina API - ç½‘é¡µé˜…è¯»
JINA_API_KEY=your_key

# OpenAIå…¼å®¹API - ä¸»æ¨¡å‹
API_KEY=your_key
API_BASE=https://api.openai.com/v1
```

### è¿è¡Œæ¼”ç¤º

```bash
# å‘½ä»¤è¡Œæ¼”ç¤º
python demo/cli_demo.py

# Gradio Web ç•Œé¢ (å¢å¼ºç‰ˆï¼šæ”¯æŒæ€ç»´é“¾æµå¼å±•ç¤º)
python demo/gradio_demo.py

# å¯åŠ¨APIæœåŠ¡
uvicorn src.api.main:app --host 0.0.0.0 --port 8000
```

---

## ğŸ”§ ç›®å½•ç»“æ„

```
xSmartDeepResearch/
â”œâ”€â”€ README.md                    # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ requirements.txt             # Pythonä¾èµ–
â”œâ”€â”€ .env.example                 # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ config/                      # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ settings.py              # å…¨å±€é…ç½®
â”‚   â””â”€â”€ prompts.py               # Promptæ¨¡æ¿
â”œâ”€â”€ src/                         # æºä»£ç 
â”‚   â”œâ”€â”€ agent/                   # Agentæ ¸å¿ƒ
â”‚   â”œâ”€â”€ tools/                   # å·¥å…·ç³»ç»Ÿ
â”‚   â”œâ”€â”€ llm/                     # LLMæ¨ç†å±‚
â”‚   â”œâ”€â”€ api/                     # APIæœåŠ¡
â”‚   â””â”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”œâ”€â”€ demo/                        # æ¼”ç¤ºåº”ç”¨
â”œâ”€â”€ docker/                      # Dockeré…ç½®
â”œâ”€â”€ eval/                        # è¯„ä¼°è„šæœ¬
â””â”€â”€ tests/                       # æµ‹è¯•
```

---

## ğŸ“– ä½¿ç”¨ç¤ºä¾‹

### Python API

```python
from xsmart import xSmartResearcher

# åˆå§‹åŒ–ç ”ç©¶åŠ©æ‰‹
researcher = xSmartResearcher()

# æ‰§è¡Œç ”ç©¶ä»»åŠ¡
result = await researcher.research(
    "2024å¹´è¯ºè´å°”ç‰©ç†å­¦å¥–å¾—ä¸»æ˜¯è°ï¼Ÿä»–ä»¬çš„ä¸»è¦è´¡çŒ®æ˜¯ä»€ä¹ˆï¼Ÿ"
)

print(result.answer)
```

### REST API

```bash
curl -X POST "http://localhost:8000/api/v1/research" \
  -H "Content-Type: application/json" \
  -d '{"question": "é‡å­è®¡ç®—çš„æœ€æ–°è¿›å±•æœ‰å“ªäº›ï¼Ÿ"}'
```

---

## ğŸ› ï¸ æ ¸å¿ƒå·¥å…·

| å·¥å…· | åŠŸèƒ½ | APIæœåŠ¡ |
|-----|------|---------|
| **Search** | Googleç½‘é¡µæœç´¢ | Serper.dev |
| **Visit** | ç½‘é¡µå†…å®¹è¯»å–å’Œæ‘˜è¦ | Jina Reader |
| **PythonInterpreter** | Pythonä»£ç æ‰§è¡Œ | SandboxFusion |
| **GoogleScholar** | å­¦æœ¯è®ºæ–‡æœç´¢ | Serper.dev |
| **FileParser** | æ–‡æ¡£è§£æ | Dashscope |

---

## ğŸ“Š è¯„ä¼°åŸºå‡†

æ”¯æŒä»¥ä¸‹è¯„ä¼°åŸºå‡†ï¼š

- GAIA
- WebWalkerQA
- BrowseComp (EN/ZH)
- SimpleQA

---

## ğŸš€ éƒ¨ç½²

### Dockeréƒ¨ç½²

```bash
cd docker
docker-compose up -d
```

### æœ¬åœ°æ¨¡å‹éƒ¨ç½²

ä½¿ç”¨ vLLM æˆ– SGLang éƒ¨ç½²æœ¬åœ°æ¨¡å‹ï¼š

```bash
# ä½¿ç”¨ SGLang
python -m sglang.launch_server --model-path /path/to/model --port 8080

# ä½¿ç”¨ vLLM
python -m vllm.entrypoints.openai.api_server --model /path/to/model --port 8080
```

---

## ğŸ“ å¼€å‘è·¯çº¿å›¾

- [x] Phase 1: æ ¸å¿ƒæ¡†æ¶
- [x] Phase 2: å®Œæ•´å·¥å…·é“¾
- [x] Phase 3: æœåŠ¡åŒ–éƒ¨ç½²
- [x] Phase 4: é«˜çº§å¹¶è¡ŒåŠŸèƒ½
- [x] Phase 5: è¯­ä¹‰ç¼“å­˜ä¸ PDF æ·±åº¦è§£æ
- [x] Phase 6: DeepSeek ä¸“é¡¹è°ƒä¼˜
- [ ] Phase 7: è‡ªåŠ¨åŒ–è®­ç»ƒç®¡çº¿ [é•¿æœŸ]

---

## ğŸ™ è‡´è°¢

æœ¬é¡¹ç›®åŸºäºä»¥ä¸‹å¼€æºé¡¹ç›®ï¼š

- [DeepResearch](https://github.com/Alibaba-NLP/DeepResearch) - é˜¿é‡Œå·´å·´é€šä¹‰å®éªŒå®¤
- [qwen-agent](https://github.com/QwenLM/Qwen-Agent) - é€šä¹‰åƒé—®Agentæ¡†æ¶
- [SandboxFusion](https://github.com/bytedance/SandboxFusion) - å­—èŠ‚è·³åŠ¨

---

## ğŸ“„ License

Apache License 2.0
